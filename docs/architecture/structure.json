{
  "generated_at": "2025-12-09T19:25:48.245271",
  "project": "branch-research-companion",
  "modules": [
    {
      "path": "src/branch/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [
        "branch.models.document",
        "branch.models.idea_fragment",
        "branch.models.session"
      ],
      "docstring": "Branch - Reading-First Research Companion.\n\nA reading-first system that helps users safely capture, defer,\nand later develop ideas generated during reading.",
      "lines": 20
    },
    {
      "path": "src/branch/cli.py",
      "classes": [],
      "functions": [
        {
          "name": "main",
          "docstring": "Main entry point for the CLI.",
          "line": 4,
          "args": []
        }
      ],
      "imports": [],
      "docstring": "Command-line interface for Branch.",
      "lines": 13
    },
    {
      "path": "src/branch/reader/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [],
      "docstring": "Document reader module for Branch.",
      "lines": 1
    },
    {
      "path": "src/branch/capture/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [],
      "docstring": "Idea capture module for Branch.",
      "lines": 1
    },
    {
      "path": "src/branch/models/idea_fragment.py",
      "classes": [
        {
          "name": "FragmentStatus",
          "methods": [],
          "docstring": "Status of an idea fragment in the Branch Buffer.",
          "line": 19
        },
        {
          "name": "TextAnchor",
          "methods": [],
          "docstring": "Anchor point within a document for an idea fragment.",
          "line": 29
        },
        {
          "name": "IdeaFragment",
          "methods": [
            "resolve_lightly",
            "mark_reviewed",
            "develop",
            "archive",
            "discard"
          ],
          "docstring": "A spontaneous idea captured during reading.\n\nThis is the first-class citizen of Branch. Ideas are captured quickly\nwithout forced organization, preserving reading flow.",
          "line": 38
        },
        {
          "name": "Config",
          "methods": [],
          "docstring": "Pydantic configuration.",
          "line": 72
        }
      ],
      "functions": [],
      "imports": [
        "collections.abc",
        "datetime",
        "enum",
        "typing",
        "uuid",
        "pydantic"
      ],
      "docstring": "IdeaFragment model - the core concept of Branch.\n\nAn Idea Fragment is a spontaneous hypothesis, comparison, or insight\ncaptured mid-reading. It is:\n- Anchored to document context\n- Allowed to be incomplete\n- Stored without forced structure",
      "lines": 103
    },
    {
      "path": "src/branch/models/session.py",
      "classes": [
        {
          "name": "BranchSession",
          "methods": [
            "end_session",
            "record_capture",
            "record_dive_deep",
            "duration_minutes",
            "is_active"
          ],
          "docstring": "A reading session in Branch.\n\nSessions group idea fragments captured during a single reading period.\nThey help with context and review.",
          "line": 15
        },
        {
          "name": "Config",
          "methods": [],
          "docstring": "Pydantic configuration.",
          "line": 42
        }
      ],
      "functions": [],
      "imports": [
        "collections.abc",
        "datetime",
        "typing",
        "uuid",
        "pydantic"
      ],
      "docstring": "BranchSession model.\n\nA reading session that groups idea fragments captured during\na single reading period.",
      "lines": 75
    },
    {
      "path": "src/branch/models/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [
        "branch.models.document",
        "branch.models.idea_fragment",
        "branch.models.session"
      ],
      "docstring": "Data models for Branch.",
      "lines": 13
    },
    {
      "path": "src/branch/models/document.py",
      "classes": [
        {
          "name": "DocumentType",
          "methods": [],
          "docstring": "Supported document types.",
          "line": 16
        },
        {
          "name": "Document",
          "methods": [
            "update_progress",
            "from_file"
          ],
          "docstring": "A document that can be read in Branch.\n\nDocuments are the context for reading sessions and the anchors\nfor idea fragments.",
          "line": 25
        },
        {
          "name": "Config",
          "methods": [],
          "docstring": "Pydantic configuration.",
          "line": 52
        }
      ],
      "functions": [],
      "imports": [
        "collections.abc",
        "datetime",
        "enum",
        "pathlib",
        "typing",
        "uuid",
        "pydantic"
      ],
      "docstring": "Document model for Branch.\n\nRepresents a document being read (PDF, text, markdown, etc.)",
      "lines": 84
    },
    {
      "path": "src/branch/storage/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [
        "branch.storage.repository",
        "branch.storage.schema",
        "branch.storage.sqlite"
      ],
      "docstring": "Storage and persistence module for Branch.",
      "lines": 16
    },
    {
      "path": "src/branch/storage/sqlite.py",
      "classes": [],
      "functions": [
        {
          "name": "connect",
          "docstring": "Create a SQLite connection with sane defaults for Branch.\n\n- Enables foreign key enforcement\n- Uses row factory for dict-style access",
          "line": 18,
          "args": [
            "database"
          ]
        },
        {
          "name": "initialize",
          "docstring": "Connect to SQLite and ensure the Branch schema exists.\n\nReturns the open connection for immediate use.",
          "line": 30,
          "args": [
            "database"
          ]
        }
      ],
      "imports": [
        "__future__",
        "sqlite3",
        "pathlib",
        "branch.storage.schema"
      ],
      "docstring": "SQLite helpers for Branch storage.\n\nConnections created here enable foreign key enforcement and expose a helper\nto apply the current schema.",
      "lines": 37
    },
    {
      "path": "src/branch/storage/repository.py",
      "classes": [
        {
          "name": "StorageError",
          "methods": [],
          "docstring": "Base exception for storage-related failures.",
          "line": 19
        },
        {
          "name": "BranchRepository",
          "methods": [
            "upsert_document",
            "get_document",
            "upsert_session",
            "get_session",
            "upsert_fragment",
            "get_fragment",
            "list_fragments_for_document"
          ],
          "docstring": "Abstract interface for Branch storage backends.",
          "line": 23
        }
      ],
      "functions": [],
      "imports": [
        "__future__",
        "typing",
        "collections.abc",
        "uuid",
        "branch.models"
      ],
      "docstring": "Repository interfaces for Branch storage.\n\nConcrete implementations should translate between Pydantic models and the\nunderlying persistence layer while keeping read flow latency low.",
      "lines": 45
    },
    {
      "path": "src/branch/storage/schema.py",
      "classes": [],
      "functions": [
        {
          "name": "apply_schema",
          "docstring": "Create all tables and indexes for the current schema version.\n\nPRAGMAs are set to enforce foreign keys, and `user_version` is recorded\nto support future migrations.",
          "line": 101,
          "args": [
            "connection"
          ]
        },
        {
          "name": "current_schema_objects",
          "docstring": "Provide a simple view of the schema objects for debugging and documentation.\n\nReturns a mapping containing the DDL for tables and indexes.",
          "line": 119,
          "args": []
        }
      ],
      "imports": [
        "__future__",
        "typing",
        "collections.abc",
        "sqlite3"
      ],
      "docstring": "SQLite schema definitions for Branch storage.\n\nThe schema is intentionally minimal: it persists documents, reading sessions,\nand idea fragments while keeping user-facing reading flow unchanged.",
      "lines": 128
    },
    {
      "path": "src/branch/buffer/__init__.py",
      "classes": [],
      "functions": [],
      "imports": [],
      "docstring": "Branch Buffer module - post-reading review system.",
      "lines": 1
    }
  ],
  "dependencies": {
    "src.branch": [
      "branch.models.document",
      "branch.models.idea_fragment",
      "branch.models.session"
    ],
    "src.branch.models": [
      "branch.models.document",
      "branch.models.idea_fragment",
      "branch.models.session"
    ],
    "src.branch.storage": [
      "branch.storage.repository",
      "branch.storage.schema",
      "branch.storage.sqlite"
    ],
    "src.branch.storage.sqlite": [
      "branch.storage.schema"
    ],
    "src.branch.storage.repository": [
      "branch.models"
    ]
  },
  "stats": {
    "total_files": 13,
    "total_lines": 537,
    "total_classes": 11,
    "total_functions": 5
  }
}
